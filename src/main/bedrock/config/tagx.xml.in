<object >
  <!-- $Id$  

   Reference Implmentation of `tagx.xml'
   ------------------------------------

   This is an example of a Bedrock configuration file that might work
   for your site.  It has been autogenerated during the build process
   for you as a reference.

   You should probably substitute the path to your Apache host where
   you see '/var/www' in the XML tags below.

   You'll also want to use the reference Apache configuration file
   'bedrock.conf' found in this directory as well as a starting point
   for Bedrock enabling your Apacher server or a specific virtual host.

   To do that, you should either copy the contents of the
   'bedrock.conf' file to your Apache configuration file (apache2.conf
   or httpd.conf) or copy the file to the Apache configuration
   direction and include the file using the Include directive as shown
   below.

     Include bedrock.conf

   Copy the `startup.pl' also found in this directory to
   /var/www/config.  Apache will invoke this script if you have a
   mod_perl enabled site.

   Once you've done all that, you'll want to restart your web server
   in the usual way:

   On Red Hat based systems:

      $ service httpd restart

   On Debian based systems:

      $ /etc/init.d/apache2 restart

   -->

  <!-- Default database connection -->
  <scalar name="DBI_DSN">dbi:mysql:bedrock</scalar>
  <scalar name="DBI_USER">fred</scalar>
  <scalar name="DBI_PASS">flintstone</scalar>

  <!-- Log options --->
  <scalar name="HTML_LOGMAXSIZE">200000</scalar>
  <scalar name="LOGFILE">bedrock.log</scalar>
  <scalar name="LOGLEVEL">MSG_DEBUG</scalar>

  <!-- Directories -->
  <scalar name="HTML_LOGDIR">/var/www/log/html</scalar>
  <scalar name="LOGDIR">/var/www/log</scalar>
  <scalar name="PEBBLE_DIR">/var/www//pebbles</scalar>
  <scalar name="SESSION_DIR">/var/www/session</scalar>
  <scalar name="INCLUDE_DIR">/var/www/include</scalar>

  <!-- Configuration file path -->
  <scalar name="BEDROCK_CONFIG_PATH">/var/www/config</scalar>
  <scalar name="APP_CONFIG">tagx_apps.xml</scalar>

  <!-- Resources --> 
  <scalar name="BEDROCK_IMAGE_DIR">@datadir@/bedrock/img/</scalar>
  <scalar name="BEDROCK_PEBBLE_DIR">@datadir@/bedrock/pebbles</scalar>
  <scalar name="BEDROCK_ERROR_LOCATION">@datadir@/bedrock/htdocs/error.roc</scalar>
  <scalar name="BEDROCK_LOGO">bedrock.jpg</scalar>
  <scalar name="BEDROCK_ERROR_LOGO">bedbug.jpg</scalar>

  <!-- URLS -->
  <scalar name="BEDROCK_POD_CSS_URL">/bedrock/css/pod.css"</scalar>
  <scalar name="BEDROCK_SOURCE_CSS_URL">/bedrock/css/source.css"</scalar>
  <scalar name="BEDROCK_IMAGE_URL">/bedrock/img</scalar>

  <!-- Options -->
  <scalar name="RELOAD">yes</scalar>
  <scalar name="ALLOW_BEDROCK_INFO">yes</scalar>
  <scalar name="ALLOW_SNIPPET_TAG">no</scalar>

  <!-- XML Options -->
  <object name="XML">
    <object name="out">
      <scalar name="NoAttr">1</scalar>
      <scalar name="KeepRoot">0</scalar>
      <scalar name="RootName">response</scalar>
      <scalar name="NoSort">1</scalar>
      <array name="KeyAttr"></array>
      <scalar name="XMLDecl">1</scalar>
      <scalar name="NoEscape">1</scalar>
    </object>
    <object name="in">
      <scalar name="NoAttr">0</scalar>
      <scalar name="KeepRoot">1</scalar>
      <array name="KeyAttr"></array>
    </object>
  </object>

  <!-- Modules -->
  <!--
      Startup module details: This should have the following structure.
      The startup modules item `MODULES' should be an array with one item
      for each startup module. The item for each module should be an object
      with the following properties defined.

      1. `binding' [ required ]
      Name of the variable which is available to Bedrock pages.

      2. `module' [ required ]
      Perl module implementing the class

      3. `type' [ optional, defaults to `object', allowed types are
      `object', `array' and `handle' ]
      The type of the binding, determines what type of object is
      created. 

      4. `header' [ required to be defined in at least one module ]
      Indicate that the current module is a header module. One of the
      startup modules MUST have this defined.

      5. `config' [ required if the module requires it ]
      Object containing the configuration for this module. Passed to
      the class constructor if this is defined.
    -->
  <array name="MODULES">

    <!--  Generic Bedrock services are implemented in this module -->
    <object>
      <scalar name="binding">Bedrock</scalar>
      <scalar name="module">BLM::Startup::Bedrock</scalar>
    </object>

    <!-- Expose configuration, both bedrock and application -->
    <object>
      <scalar name="binding">config</scalar>
      <scalar name="module">BLM::Startup::Config</scalar>
    </object>

    <!-- Cookies access -->
    <object>
      <scalar name="binding">cookie</scalar>
      <scalar name="module">BLM::Startup::Cookie</scalar>
    </object>

    <!-- Expose the application environment -->
    <object>
      <scalar name="binding">env</scalar>
      <scalar name="module">BLM::Startup::Env</scalar>
    </object>

    <!-- HTTP Header access and manipulation -->
    <object>
      <scalar name="binding">header</scalar>
      <scalar name="module">BLM::Startup::Header</scalar>
      <scalar name="header">yes</scalar>
    </object>

    <!-- Form input access -->
    <object>
      <scalar name="binding">input</scalar>
      <scalar name="module">BLM::Startup::Input</scalar>
    </object>


    <!-- Generic Bedrock Sessions -->
    <object>
      <scalar name="binding">session</scalar>
      <scalar name="module">BLM::Startup::UserSession</scalar>

      <object name="config">
        <scalar name="verbose">2</scalar>
        <scalar name="param">session</scalar>
        <scalar name="login_cookie_name">session_login</scalar>
        <scalar name="login_cookie_expiry_days">365</scalar>
        <scalar name="data_source">dbi:mysql:bedrock</scalar>
        <scalar name="username">fred</scalar>
        <scalar name="password">flintstone</scalar>
        <scalar name="table_name">session</scalar>
        <scalar name="purge_user_after">30</scalar>

        <object name="cookie">
          <scalar name="path">/</scalar>
          <scalar name="expiry_secs">3600</scalar>
          <scalar name="domain"></scalar>
        </object>
      </object>
    </object>

    <!-- End of object MODULES -->
  </array>
</object>
