SetEnv     BEDROCK_CONFIG_PATH @libdir@/bedrock/config

AddType	text/html .roc .rock

Action        bedrock-cgi /cgi-bin/bedrock.cgi virtual
AddHandler    bedrock-cgi .rock

# Bedrock - mod-perl for .roc (if mod_perl)
<IfModule mod_perl.c>
  PerlRequire @libdir@/bedrock/config/startup.pl
  AddHandler    perl-script .roc
  PerlHandler   Apache::Bedrock
</IfModule>

<IfModule !mod_perl.c>
  AddHandler  bedrock-cgi .roc
</IfModule>

Alias /bedrock/img @datadir@/bedrock/img

<Directory @datadir@/bedrock/img>
   Options -Indexes
   AllowOverride None
   Order allow,deny
   Allow from all
</Directory>

Alias /bedrock/css @datadir@/bedrock/css

<Directory @datadir@/bedrock/css>
   Options -Indexes
   AllowOverride None
   Order allow,deny
   Allow from all
</Directory>

# Bedrock system directory, access to which is controlled
#  by authentication: default username=admin, password=bedrock
#  and by setting in tagx.xml ALLOW_BEDROCK_INFO (default=yes)

<Directory @apache_default_htdocsdir@/bedrock/>
  AcceptPathInfo On
  SetHandler bedrock-cgi
  Options -Indexes
  AuthType Basic
  AuthName Bedrock
  AuthUserFile @libdir@/bedrock/config/bedrock.users
  require valid-user
</Directory>
