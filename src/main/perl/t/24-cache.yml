#
# Unit tests for the <cache> tag functionality
# Requires a running Redis instance reachable via defaults or t/conf/redis.xml
#

---
name: Cache Miss (Initialize Storage)
env:
  BEDROCK_CACHE_ENGINE: Redis
  CONFIG_PATH: t/config
test: |
  <cache --key="yaml_test_key_01">Original Content</cache>
result: |
  Original Content

---
name: Cache Hit (Persistence Check)
env:
  BEDROCK_CACHE_ENGINE: Redis
  CONFIG_PATH: t/config
test: |
  <cache --key="yaml_test_key_01">This Content Should Be Ignored</cache>
result: |
  Original Content
